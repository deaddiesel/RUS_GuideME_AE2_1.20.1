---
navigation:
  parent: ae2-mechanics/ae2-mechanics-index.md
  title: Автоматическое создание
  icon: pattern_provider
---

# Автоматическое создание

### Самое большое

<GameScene zoom="4" interactive={true}>
  <ImportStructure src="../assets/assemblies/autocraft_setup_greebles.snbt" />
  <IsometricCamera yaw="195" pitch="30" />
</GameScene>

Автоматическое создание - одно из основных функций мода «Прикладная энергетика 2». Вместо того, чтобы вручную составлять нужное количество каждого субингредиента
и трудиться, как какой-нибудь *плебей*, вы можете попросить свою ME Систему сделать это за вас. Или автоматически создавать предметы и экспортировать их куда-либо.
Или автоматически поддерживать определённое количество предметов на хранении с помощью продуманного поведения на случай непредвиденных обстоятельств. Это также работает с жидкостями, и, если у вас есть
определённые дополнения для дополнительных типов материалов, таких как газы из мода «Меканизм», то и с этими материалами тоже. Это довольно здорово.

Это довольно сложная тема, так что пристегните ремни и поехали.

Настройка автоматического создания состоит из 3 вещей:
- Вещь, отправляющая запрос на создание
- Процессор, отвечающий за создание
- <ItemLink id="pattern_provider" />.

Вот что происходит:

1.  Что-то создаёт запрос на создание. Это может быть нажатие вами в ME Терминале на что-то, что можно создать автоматически,
    или ME Шина экспорта или ME Интерфейс с картой создания, запрашивающий один из предметов, которые настроены на экспорт/хранение.

*   (**ВАЖНО:** используйте то, что вы привязали к функции «выбрать блок» (обычно СКМ), чтобы запросить создание чего-либо, что у вас уже есть на хранении. Это может конфликтовать с модами сортировки инвентаря.)

2.  ME Система рассчитывает необходимые ингредиенты и предварительные этапы создания для выполнения запроса и сохраняет их в выбранном процессоре для создания.

3.  <ItemLink id="pattern_provider" /> с соответствующим [шаблоном](../items-blocks-machines/patterns.md) отправляет ингредиенты, указанные в шаблоне, в любой соседний инвентарь.
    В случае рецепта верстака («шаблона создания») это будет <ItemLink id="molecular_assembler" />.
    В случае рецепта, не связанного с созданием («шаблона обработки») это будет другой блок, машина или сложная система управления редстоуном.

4.  Результат работы каким-то образом возвращается в систему, будь то с помощью ME Шины импорта, ME Интерфейса или передачи результата обратно поставщику шаблонов.
    **Обратите внимание, что должно произойти событие «поступление предмета в систему», вы не можете просто отправить результат в хранилище с <ItemLink id="storage_bus" /> на нём.**

5.  Если это создание является обязательным условием для другого создания в запросе, предметы сохраняются в этом процессоре для создания и затем используются в другом создании.

# Шаблоны

<ItemImage id="crafting_pattern" scale="4" />

Шаблоны создаются в <ItemLink id="pattern_encoding_terminal" /> из пустых шаблонов.

Существует несколько различных типов шаблонов для разных вещей:

*   <ItemLink id="crafting_pattern" /> кодирует рецепт, созданный на верстаке. Его можно поместить непосредственно в <ItemLink id="molecular_assembler" /> , чтобы он
    мог создавать результат при наличии ингредиентов, но основное их применение — в <ItemLink id="pattern_provider" /> рядом с молекулярным сборщиком.
    Поставщики шаблонов ведут себя в этом случае особым образом и отправляют соответствующий шаблон вместе с ингредиентами соседним сборщикам.
    Поскольку сборщики автоматически отправляют результаты создания в соседние инвентари, для автоматизации создания шаблонов требуется только сборщик на поставщике шаблонов.

***

*   <ItemLink id="smithing_table_pattern" /> очень похож на шаблон для создания, но он кодирует рецепт для кузнечного стола. Он также автоматизирован с поставщиком
    шаблонов и молекулярным сборщиком, и функционирует точно таким же образом. Фактически, шаблоны для создания, кузнечного стола и камнереза можно использовать
    в одной и той же установке.

***

*   <ItemLink id="stonecutting_pattern" /> очень похож на шаблон для создания, но он кодирует рецепт для камнереза. Он также автоматизирован с поставщиком
    шаблонов и молекулярным сборщиком, и функционирует точно таким же образом. Фактически, шаблоны для создания, кузнечного стола и камнереза можно использовать
    в одной и той же установке.

***

*   Именно <ItemLink id="processing_pattern" /> обеспечивает большую гибкость в автоматическом создании. Он является наиболее обобщённым типом, просто
    говоря: «Если поставщик шаблонов поместит эти ингредиенты в соседние инвентари, ME система получит эти предметы в какой-то момент в ближайшем
    или отдалённом будущем». Именно с его помощью вы будете создавать предметы автоматически практически на любой модифицированной машине, печи и тому подобному.
	Поскольку он настолько универсален в использовании и его не заботит, что происходит между подачей ингредиентов и получением результата, вы можете делать 
	действительно интересные вещи, например, вводить ингредиенты в целую сложную цепочку производственных заводов, которые включают сортировку сырья, поставку других 
	ингредиентов с ферм с бесконечным количеством производств, напечать весь сценарий фильма «Би Муви», ME Системе всё равно, пока она получает результат, указанный в шаблоне. 
	На самом деле, ему даже всё равно, связаны ли ингредиенты каким-либо образом с результатом. Вы можете сказать ему: «x1 Вишнёвые доски = x1 Звезда Незера» и ваша
    вишнёвая ферма убьёт иссушителя, получив вишнёвые доски, и это сработает.

Поддерживается несколько <ItemLink id="pattern_provider" /> с идентичными шаблонами, которые работают параллельно. Кроме того, можно задать шаблон,
например, «x8 Булыжник = x8 Камень, вместо x1 Булыжник = x1 Камень», и поставщик шаблонов будет добавлять 8 булыжника в
вашу установку для плавки при каждой операции, а не по одной за раз.

## Наиболее общая форма «Шаблона»

На самом деле существует даже более «общая» форма «шаблона», чем шаблон обработки. <ItemLink id="level_emitter" /> с картой создания можно настроить
на излучение сигнала редстоуна для создания чего-либо. Этот «шаблон» не определяет ингредиенты и даже не заботится о них.
Всё, что там написано, это «Если вы испустите сигнал редстоуна от излучателя уровня, ME Система получит этот предмет в какой-то момент в
ближайшем или отдалённом будущем». Обычно это используется для активации и деактивации бесконечных ферм, которые не требуют ввода ингредиентов,
или для активации системы, которая обрабатывает рекурсивные рецепты (которые не могут быть поняты при стандартной автоматической обработке), например,
«x1 Булыжник = x2 Булыжник», если у вас есть машина, которая дублирует булыжник.

# Процессор для создания

<GameScene zoom="4" background="transparent">
  <ImportStructure src="../assets/assemblies/crafting_cpus.snbt" />
  <IsometricCamera yaw="195" pitch="30" />
</GameScene>

Процессоры для создания управляют запросами/заданиями на создание. Они хранят промежуточные ингредиенты во время выполнения заданий на создания, состоящих из нескольких этапов,
и влияют на размер заданий и, в некоторой степени, на скорость их выполнения. Они представляют собой многоблочные объекты и
должны представлять собой прямоугольные призмы с как минимум одним хранилищем для создания.

Процессоры для создания изготавливаются из:

*   (Обязательно) [Хранилища для создания](../items-blocks-machines/crafting_cpu_multiblock.md), доступные во всех стандартных размерах ячеек (1КБ, 4КБ, 16КБ, 64КБ, 256КБ). Они хранят ингредиенты и
промежуточные ингредиенты, используемые в процессе создания, поэтому для обработки процессором заданий по созданию
с большим количеством ингредиентов требуется большее или большее количество хранилищ.
*   (Необязательно) <ItemLink id="crafting_accelerator" />, который заставляет систему отправлять больше партий ингредиентов от поставщиков шаблонов.
    Это позволяет, например, поставщику шаблонов, окружённому шестью молекулярными сборщиками, отправлять ингредиенты всем шести одновременно, а не только одному.
*   (Необязательно) <ItemLink id="crafting_monitor" />, он отображает задачу, которую выполняет процессор в данный момент. Их можно раскрасить с помощью <ItemLink id="color_applicator" />.
*   (Необязательно) <ItemLink id="crafting_unit" />, он просто заполняет пространство, превращая процессор в прямоугольную призму.

Каждый процессор для создания обрабатывает 1 запрос или задание, поэтому, если вы хотите одновременно запросить и вычислительный процессор, и 256 гладких камней, вам понадобятся 2 мультиблока процессоров.

Их можно настроить на обработку запросов от игроков, автоматизации (ME Шин экспорта и ME Интерфейсов) или и того, и другого.

# Поставщики шаблонов

<Row>
<BlockImage id="pattern_provider" scale="4" />

<BlockImage id="pattern_provider" p:push_direction="up" scale="4" />

<GameScene zoom="4" background="transparent">
  <ImportStructure src="../assets/blocks/cable_pattern_provider.snbt" />
</GameScene>
</Row>

<ItemLink id="pattern_provider" /> - это основной способ взаимодействия вашей системы автоматического создания с миром. Он передаёт ингредиенты
из своих [шаблонов](../items-blocks-machines/patterns.md) в соседние инвентари, и в них можно помещать предметы для включения их в сеть. Часто
канал можно сэкономить, перенаправив вывод машины обратно ближайшему поставщику шаблонов (часто тому, который передал ингредиенты),
вместо использования <ItemLink id="import_bus" /> для передачи вывода машины в сеть.

Обратите внимание, что, поскольку они отправляют ингредиенты непосредственно из [хранилища для крафта](../items-blocks-machines/crafting_cpu_multiblock.md#crafting-storage) в процессоре для создания, они
фактически никогда не содержат ингредиенты в своём инвентаре, поэтому вы не можете передать их по кабелю. Вам нужно заставить поставщика отправить ингредиенты
в другой инвентарь (например, в бочку), а затем передать их оттуда.

Также следует отметить, что поставщик должен выставить ВСЕ ингредиенты сразу, он не может выставлять половинные партии. Это удобно для
использования.

Поставщики шаблонов особым образом взаимодействуют с ME Интерфейсами в [подсетях](../ae2-mechanics/subnetworks.md): если ME Интерфейс не изменён (в слотах запроса ничего нет),
поставщик полностью пропустит ME Интерфейс и отправит данные непосредственно в [хранилище](../ae2-mechanics/import-export-storage.md),
этой подсети, пропуская ME Интерфейс и не заполняя его партиями рецептов, и, что ещё важнее, не помещая следующую партию, пока не появится место в хранилище.

Поддерживаются и работают параллельно несколько поставщиков шаблонов с идентичными шаблонами.

Поставщики шаблонов попытаются циклически распределять свои партии по всем своим граням, таким образом, используя все подключенные машины параллельно.

## Варианты

Поставщики шаблонов бывают трёх видов: обычные, направленные и плоские. Это влияет на то, в какие стороны они выталкивают
ингредиенты, откуда принимают предметы и обеспечивают сетевое соединение.

*   Обычные поставщики шаблонов распределяют ингредиенты во все стороны, принимают входные данные со всех сторон и, как большинство машин мода «Прикладная энергетика 2», действуют
    как кабель, обеспечивающий сетевое соединение со всеми сторонами.

*   Направленные поставщики шаблонов создаются с помощью <ItemLink id="certus_quartz_wrench" />, установленного на обычном поставщике шаблонов, для изменения его
    направления. Они только перемещают ингредиенты в выбранную сторону, получают входные данные со всех сторон и, в частности, не обеспечивают сетевое
    подключение на выбранной стороне. Это позволяет им перемещать ингредиенты машинам мода «Прикладная энергетика 2» без подключения к сетям, если вы хотите создать подсеть.

*   Плоские поставщики шаблонов являются [подчастью кабеля](../ae2-mechanics/cable-subparts.md), поэтому несколько из них можно разместить на одном кабеле, что позволяет создавать компактные конфигурации.
    Они действуют аналогично выбранной стороне направленного поставщика шаблонов, предоставляя шаблоны, принимая входные данные и не
    обеспечивая сетевое соединение на своей лицевой стороне.

Поставщики шаблонов могут переключаться между обычными и плоскими в сетке создания.

## Настройки

Поставщики шаблонов имеют различные режимы:

*   **Режим блокировки** не позволяет поставщику загружать новую партию ингредиентов,
    если в машине уже есть ингредиенты.
*   **Блокировка создания** может заблокировать поставщик при различных условиях редстоуна или до тех пор, пока результат
    предыдущего создания не будет помещён в этот конкретный поставщик шаблонов.
*   Поставщик может быть отображён или скрыт в <ItemLink id="pattern_access_terminal" />.

## Приоритет

Приоритеты можно задать, нажав на значок гаечного ключа в правом верхнем углу GUI. В случае нескольких [шаблонов](../items-blocks-machines/patterns.md)
для одного и того же предмета, шаблоны поставщиков с более высоким приоритетом будут использоваться вместо шаблонов поставщиков с более низким приоритетом,
если только в сети нет ингредиентов для шаблона с более высоким приоритетом.

# Молекулярные сборщики

<BlockImage id="molecular_assembler" scale="4" />

<ItemLink id="molecular_assembler" /> принимает входящие в него предметы и выполняет операцию, заданную смежным <ItemLink id="pattern_provider" />,
или вставленным <ItemLink id="crafting_pattern" />, <ItemLink id="smithing_table_pattern" />, или <ItemLink id="stonecutting_pattern" />,
а затем помещает результат в смежные инвентари.

Они в основном используются рядом с <ItemLink id="pattern_provider" />. Поставщики шаблонов ведут себя в этом случае особым образом
и отправляют информацию о соответствующем шаблоне вместе с ингредиентами смежным сборщикам. Поскольку сборщики автоматически выгружают результаты
созданий в смежные инвентари (и, следовательно, в возвращающие слоты поставщика шаблонов), сборщик на поставщике шаблонов
— это всё, что нужно для автоматизации создания шаблонов.

<GameScene zoom="4" background="transparent">
<ImportStructure src="../assets/assemblies/assembler_tower.snbt" />
<IsometricCamera yaw="195" pitch="30" />
</GameScene>