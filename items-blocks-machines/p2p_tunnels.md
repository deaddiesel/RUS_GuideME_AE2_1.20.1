---
navigation:
  parent: items-blocks-machines/items-blocks-machines-index.md
  title: P2P-тоннели
  icon: me_p2p_tunnel
  position: 210
categories:
- devices
item_ids:
- ae2:me_p2p_tunnel
- ae2:redstone_p2p_tunnel
- ae2:item_p2p_tunnel
- ae2:fluid_p2p_tunnel
- ae2:fe_p2p_tunnel
- ae2:light_p2p_tunnel
---

# P2P-тоннели

<GameScene zoom="6" background="transparent">
  <ImportStructure src="../assets/assemblies/p2p_tunnels.snbt" />
  <IsometricCamera yaw="195" pitch="30" />
</GameScene>

P2P-тоннели — это способ перемещения таких вещей, как предметы, жидкости, сигналы редстоуна, энергия, свет и [каналы](../ae2-mechanics/channels.md)
по сети без их прямого взаимодействия с сетью. Существует множество разновидностей P2P-тоннелей, но каждый
переносит только свой тип данных. По сути, они действуют как порталы, напрямую соединяющие
две стороны блоков на расстоянии. Они не двунаправленные, имеют определённые входы и выходы.

![Portal](../assets/assemblies/p2p_portal.png)

Например, воронка, обращённая к предметному P2P-тоннелю, будет вести себя так, как будто она напрямую соединена с бочкой, и предметы будут перемещаться.

<GameScene zoom="4" background="transparent">
  <ImportStructure src="../assets/assemblies/p2p_hopper_barrel.snbt" />
  <IsometricCamera yaw="195" pitch="30" />
</GameScene>

Однако две бочки, расположенные рядом друг с другом, не будут передавать предметы друг другу.

<GameScene zoom="4" background="transparent">
  <ImportStructure src="../assets/assemblies/p2p_barrel_barrel.snbt" />
  <IsometricCamera yaw="195" pitch="30" />
</GameScene>

Существуют и другие варианты, например, редстоуновый P2P-тоннель.

<GameScene zoom="4" background="transparent">
  <ImportStructure src="../assets/assemblies/p2p_redstone.snbt" />
  <IsometricCamera yaw="195" pitch="30" />
</GameScene>

## Типы P2P-тоннелей и настройки

<GameScene zoom="6" background="transparent">
  <ImportStructure src="../assets/assemblies/p2p_tunnels.snbt" />
  <IsometricCamera yaw="180" pitch="90" />
</GameScene>

Существует множество типов P2P-тоннелей. Только ME P2P-тоннель можно создать напрямую, остальные создаются щелчком [ПКМ].
P2P-тоннели с определёнными предметами:
- ME P2P-тоннели выбираются щелчком [ПКМ] по любому [кабелю](../items-blocks-machines/cables.md).
- Редстоуновые P2P-тоннели выбираются щелчком [ПКМ] по различным компонентам из редстоуна.
- Предметные P2P-тоннели выбираются щелчком [ПКМ] по сундуку или воронке.
- Жидкостные P2P-тоннели выбираются щелчком [ПКМ] по ведру или бутылочке.
- FE P2P-тоннели выбираются щелчком [ПКМ] по практически любому предмету, содержащему энергию.
- Световые P2P-тоннели выбираются щелчком [ПКМ] по факелу или светокамню.

Некоторые типы тоннелей имеют свои особенности. Например, каналы ME P2P-тоннелей не могут проходить через другие ME P2P-тоннели, а
FE P2P-тоннели косвенно взимают налог в размере 2,5% с проходящей через них энергии, увеличивая потребление
[энергии](../ae2-mechanics/energy.md).

## Наиболее распространённая форма P2P

Наиболее распространённым вариантом использования P2P-тоннелей является использование ME P2P-тоннеля для уменьшения плотности [канала](../ae2-mechanics/channels.md) транпортировки.
Вместо связки плотных кабелей для передачи множества каналов можно использовать один плотный кабель.

В этом примере 8 входов ME P2P используют 256 каналов (8*32) из <ItemLink id="controller" /> основной сети, а 8 выходов ME P2P
выводят их в другое место. Обратите внимание, что каждый вход или выход P2P-тоннеля использует 1 канал. Таким образом, мы можем пропустить множество каналов
по одному тонкому кабелю. И поскольку наши P2P-тоннели находятся в выделенной [подсети](../ae2-mechanics/subnetworks.md), мы даже не
используем каналы основной сети для этого! Также обратите внимание, что хотя P2P-тоннели можно разместить непосредственно
напротив ME Контроллера, между ними можно разместить [умный плотный кабель](../items-blocks-machines/cables.md#smart-cable), чтобы было легче визуализировать каналы.

<GameScene zoom="4" interactive={true}>
  <ImportStructure src="../assets/assemblies/p2p_compact_channels.snbt" />

  <BoxAnnotation color="#dddddd" min="1.3 1.3 6.3" max="2 2.7 6.7">
        Кварцевое волокно распределяет энергию между основной сетью и P2P-подсетью.
  </BoxAnnotation>

  <IsometricCamera yaw="225" pitch="30" />
</GameScene>

Другой пример (включая использование с [квантовыми мостами](quantum_bridge.md)) смотрите на этой диаграмме MS Paint, которую я не побеспокоился
подправить:

![P2P and quantum bridges](../assets/diagrams/p2p_quantum_network.png)

## Вложение

Однако вы не можете использовать это для передачи бесконечного количества каналов по одному кабелю. Канал ME P2P-тоннеля не
будет проходить через другой ME P2P-тоннель, поэтому вы не сможете рекурсивно подключать их. Обратите внимание, что внешний слой ME P2P-тоннелей
на красных кабелях отключен. Обратите внимание, что это относится только к ME P2P-тоннелям, другие типы P2P-тоннелей могут проходить через ME P2P-тоннель,
как видно из того, что редстоуновые P2P-тоннели работают нормально.

<GameScene zoom="4" background="transparent">
  <ImportStructure src="../assets/assemblies/p2p_nesting.snbt" />
  <IsometricCamera yaw="225" pitch="30" />
</GameScene>

## Связывание

<GameScene zoom="6" background="transparent">
  <ImportStructure src="../assets/assemblies/p2p_linking_frequency.snbt" />
  <IsometricCamera yaw="195" pitch="30" />
</GameScene>

Концы P2P-тоннеля можно связать с помощью <ItemLink id="memory_card" />. Частота будет отображаться
в виде массива цветов 2x2 на обратной стороне тоннеля.
- Удерживайте [Shift + ПКМ], чтобы создать новую частоту P2P-соединения.
- Щёлкните [ПКМ], чтобы вставить настройки, карты улучшения или частоту соединения.

Тоннель, по которому вы щёлкните [ПКМ], будет входом, а другой тоннель, по которому вы щёлкните [ПКМ], — выходом. Вы можете иметь несколько выходов,
но в ME P2P-тоннелей каналы, проходящие по входу, будут разделены между выходами, поэтому вы не сможете дублировать каналы.

## Рецепт

<RecipeFor id="me_p2p_tunnel" />